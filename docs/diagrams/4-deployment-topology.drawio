<mxfile host="app.diagrams.net" modified="2025-01-12T00:00:00.000Z" agent="AI Agents Team" version="24.0.0">
  <diagram id="deployment-topology" name="4. Deployment Topology">
    <mxGraphModel dx="2400" dy="1600" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2400" pageHeight="1600" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title Section -->
        <mxCell id="title-bg" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E8EAF6;strokeColor=#3F51B5;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="40" y="30" width="2320" height="100" as="geometry" />
        </mxCell>

        <mxCell id="k8s-icon-main" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kubernetes/kubernetes-plain.svg;" vertex="1" parent="1">
          <mxGeometry x="60" y="45" width="70" height="70" as="geometry" />
        </mxCell>

        <mxCell id="title" value="&lt;b&gt;ðŸš€ Kubernetes Production Deployment Architecture&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=26;fontStyle=1;fontColor=#3F51B5;" vertex="1" parent="1">
          <mxGeometry x="150" y="50" width="800" height="40" as="geometry" />
        </mxCell>

        <mxCell id="subtitle" value="Production infrastructure showing Kubernetes resources, auto-scaling, CI/CD pipeline, and observability stack&lt;br&gt;&lt;b&gt;Target Audience:&lt;/b&gt; DevOps Engineers â€¢ SRE Teams â€¢ Platform Engineers â€¢ Infrastructure Architects" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#424242;" vertex="1" parent="1">
          <mxGeometry x="150" y="90" width="1100" height="35" as="geometry" />
        </mxCell>

        <mxCell id="env-badge" value="&lt;b&gt;PRODUCTION&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E53935;strokeColor=#B71C1C;fontSize=14;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="2200" y="55" width="140" height="50" as="geometry" />
        </mxCell>

        <!-- Kubernetes Cluster Container -->
        <mxCell id="k8s-cluster-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8EAF6;strokeColor=#3F51B5;dashed=1;dashPattern=12 8;strokeWidth=4;opacity=50;" vertex="1" parent="1">
          <mxGeometry x="60" y="160" width="2080" height="1020" as="geometry" />
        </mxCell>

        <mxCell id="k8s-cluster-icon" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kubernetes/kubernetes-plain.svg;" vertex="1" parent="1">
          <mxGeometry x="80" y="175" width="50" height="50" as="geometry" />
        </mxCell>

        <mxCell id="k8s-cluster-label" value="&lt;b&gt;â˜¸ï¸ Kubernetes Cluster&lt;/b&gt; (namespace: ai-agents)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#3F51B5;" vertex="1" parent="1">
          <mxGeometry x="140" y="185" width="500" height="30" as="geometry" />
        </mxCell>

        <!-- LAYER 1: Ingress & Load Balancing -->
        <mxCell id="ingress-layer-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;strokeWidth=2;opacity=40;" vertex="1" parent="1">
          <mxGeometry x="100" y="250" width="2000" height="160" as="geometry" />
        </mxCell>

        <mxCell id="ingress-layer-label" value="&lt;b&gt;ðŸŒ INGRESS &amp; LOAD BALANCING LAYER&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontColor=#E65100;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="265" width="500" height="25" as="geometry" />
        </mxCell>

        <!-- Load Balancer -->
        <mxCell id="lb-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCC80;strokeColor=#E65100;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="310" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lb-icon" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn-icons-png.flaticon.com/512/2920/2920277.png;" vertex="1" parent="1">
          <mxGeometry x="155" y="320" width="45" height="45" as="geometry" />
        </mxCell>
        <mxCell id="lb-title" value="&lt;b&gt;Cloud Load Balancer&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="210" y="320" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lb-details" value="AWS ELB / GCP LB&lt;br&gt;Azure Load Balancer&lt;br&gt;SSL Termination" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="155" y="345" width="155" height="40" as="geometry" />
        </mxCell>

        <!-- Ingress Controllers -->
        <mxCell id="ingress-api-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57C00;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="380" y="310" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ingress-api-icon" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn-icons-png.flaticon.com/512/2618/2618163.png;" vertex="1" parent="1">
          <mxGeometry x="395" y="320" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ingress-api-title" value="&lt;b&gt;API Ingress&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="445" y="320" width="125" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ingress-api-details" value="api.aiagents.com&lt;br&gt;TLS 1.3&lt;br&gt;Rate Limiting: 1000/min" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="395" y="345" width="175" height="40" as="geometry" />
        </mxCell>

        <mxCell id="ingress-admin-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57C00;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="310" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ingress-admin-icon" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn-icons-png.flaticon.com/512/2618/2618171.png;" vertex="1" parent="1">
          <mxGeometry x="655" y="320" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ingress-admin-title" value="&lt;b&gt;Admin UI Ingress&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="705" y="320" width="125" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ingress-admin-details" value="admin.aiagents.com&lt;br&gt;TLS 1.3&lt;br&gt;Auth Required" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="655" y="345" width="175" height="40" as="geometry" />
        </mxCell>

        <!-- LAYER 2: Application Deployments -->
        <mxCell id="app-layer-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;opacity=40;" vertex="1" parent="1">
          <mxGeometry x="100" y="440" width="2000" height="300" as="geometry" />
        </mxCell>

        <mxCell id="app-layer-label" value="&lt;b&gt;ðŸš€ APPLICATION LAYER - Deployments with HPA&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontColor=#1976D2;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="455" width="600" height="25" as="geometry" />
        </mxCell>

        <!-- FastAPI Deployment -->
        <mxCell id="api-deploy-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#0D47A1;strokeWidth=2;dashed=1;dashPattern=8 4;" vertex="1" parent="1">
          <mxGeometry x="140" y="500" width="420" height="210" as="geometry" />
        </mxCell>
        <mxCell id="api-deploy-icon" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/fastapi/fastapi-original.svg;" vertex="1" parent="1">
          <mxGeometry x="155" y="510" width="45" height="45" as="geometry" />
        </mxCell>
        <mxCell id="api-deploy-label" value="&lt;b&gt;FastAPI Deployment&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontStyle=1;fontColor=#0D47A1;" vertex="1" parent="1">
          <mxGeometry x="210" y="520" width="200" height="25" as="geometry" />
        </mxCell>

        <!-- API Pods -->
        <mxCell id="api-pod1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64B5F6;strokeColor=#0D47A1;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="160" y="565" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="api-pod1-icon" value="ðŸ“¦" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="175" y="570" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="api-pod1-label" value="&lt;b&gt;Pod 1&lt;/b&gt;&lt;br&gt;Port: 8000&lt;br&gt;CPU: 500m&lt;br&gt;RAM: 512Mi" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="165" y="595" width="100" height="35" as="geometry" />
        </mxCell>

        <mxCell id="api-pod2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64B5F6;strokeColor=#0D47A1;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="290" y="565" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="api-pod2-icon" value="ðŸ“¦" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="305" y="570" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="api-pod2-label" value="&lt;b&gt;Pod 2&lt;/b&gt;&lt;br&gt;Port: 8000&lt;br&gt;CPU: 500m&lt;br&gt;RAM: 512Mi" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="295" y="595" width="100" height="35" as="geometry" />
        </mxCell>

        <mxCell id="api-pod3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64B5F6;strokeColor=#0D47A1;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="420" y="565" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="api-pod3-icon" value="ðŸ“¦" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="435" y="570" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="api-pod3-label" value="&lt;b&gt;Pod 3&lt;/b&gt;&lt;br&gt;Port: 8000&lt;br&gt;CPU: 500m&lt;br&gt;RAM: 512Mi" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="425" y="595" width="100" height="35" as="geometry" />
        </mxCell>

        <!-- HPA for API -->
        <mxCell id="api-hpa-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90CAF9;strokeColor=#1565C0;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="160" y="650" width="370" height="45" as="geometry" />
        </mxCell>
        <mxCell id="api-hpa-icon" value="âš¡" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="165" y="657" width="25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="api-hpa-label" value="&lt;b&gt;HPA:&lt;/b&gt; 3-10 replicas | Target CPU: 70% | Target Memory: 80%" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="195" y="662" width="325" height="20" as="geometry" />
        </mxCell>

        <!-- Celery Worker Deployment -->
        <mxCell id="worker-deploy-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;strokeWidth=2;dashed=1;dashPattern=8 4;" vertex="1" parent="1">
          <mxGeometry x="620" y="500" width="420" height="210" as="geometry" />
        </mxCell>
        <mxCell id="worker-deploy-icon" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/celery/celery-original.svg;" vertex="1" parent="1">
          <mxGeometry x="635" y="510" width="45" height="45" as="geometry" />
        </mxCell>
        <mxCell id="worker-deploy-label" value="&lt;b&gt;Celery Worker Deployment&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontStyle=1;fontColor=#6A1B9A;" vertex="1" parent="1">
          <mxGeometry x="690" y="520" width="250" height="25" as="geometry" />
        </mxCell>

        <!-- Worker Pods -->
        <mxCell id="worker-pod1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CE93D8;strokeColor=#6A1B9A;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="565" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="worker-pod1-icon" value="âš™ï¸" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="655" y="570" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="worker-pod1-label" value="&lt;b&gt;Worker 1&lt;/b&gt;&lt;br&gt;Concurrency: 4&lt;br&gt;CPU: 1000m&lt;br&gt;RAM: 1Gi" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="645" y="595" width="100" height="35" as="geometry" />
        </mxCell>

        <mxCell id="worker-pod2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CE93D8;strokeColor=#6A1B9A;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="770" y="565" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="worker-pod2-icon" value="âš™ï¸" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="785" y="570" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="worker-pod2-label" value="&lt;b&gt;Worker 2&lt;/b&gt;&lt;br&gt;Concurrency: 4&lt;br&gt;CPU: 1000m&lt;br&gt;RAM: 1Gi" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="775" y="595" width="100" height="35" as="geometry" />
        </mxCell>

        <mxCell id="worker-pod3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CE93D8;strokeColor=#6A1B9A;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="565" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="worker-pod3-icon" value="âš™ï¸" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="915" y="570" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="worker-pod3-label" value="&lt;b&gt;Worker 3&lt;/b&gt;&lt;br&gt;Concurrency: 4&lt;br&gt;CPU: 1000m&lt;br&gt;RAM: 1Gi" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="905" y="595" width="100" height="35" as="geometry" />
        </mxCell>

        <!-- HPA for Workers -->
        <mxCell id="worker-hpa-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="650" width="370" height="45" as="geometry" />
        </mxCell>
        <mxCell id="worker-hpa-icon" value="âš¡" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="645" y="657" width="25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="worker-hpa-label" value="&lt;b&gt;HPA:&lt;/b&gt; 3-10 replicas | CPU: 70% | Queue Depth Metrics" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="675" y="662" width="325" height="20" as="geometry" />
        </mxCell>

        <!-- Streamlit Deployment -->
        <mxCell id="streamlit-deploy-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;strokeWidth=2;dashed=1;dashPattern=8 4;" vertex="1" parent="1">
          <mxGeometry x="1100" y="500" width="240" height="210" as="geometry" />
        </mxCell>
        <mxCell id="streamlit-deploy-icon" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://streamlit.io/images/brand/streamlit-mark-color.svg;" vertex="1" parent="1">
          <mxGeometry x="1115" y="510" width="45" height="45" as="geometry" />
        </mxCell>
        <mxCell id="streamlit-deploy-label" value="&lt;b&gt;Streamlit Admin&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontStyle=1;fontColor=#2E7D32;" vertex="1" parent="1">
          <mxGeometry x="1170" y="520" width="150" height="25" as="geometry" />
        </mxCell>

        <mxCell id="streamlit-pod1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#A5D6A7;strokeColor=#2E7D32;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1120" y="565" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="streamlit-pod1-icon" value="ðŸ“Š" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="1130" y="575" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="streamlit-pod1-label" value="&lt;b&gt;Pod 1&lt;/b&gt; | Port: 8501" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1160" y="583" width="145" height="15" as="geometry" />
        </mxCell>

        <mxCell id="streamlit-pod2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#A5D6A7;strokeColor=#2E7D32;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1120" y="635" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="streamlit-pod2-icon" value="ðŸ“Š" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="1130" y="645" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="streamlit-pod2-label" value="&lt;b&gt;Pod 2&lt;/b&gt; | Port: 8501" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1160" y="653" width="145" height="15" as="geometry" />
        </mxCell>

        <!-- LiteLLM Deployment -->
        <mxCell id="litellm-deploy-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F9A825;strokeWidth=2;dashed=1;dashPattern=8 4;" vertex="1" parent="1">
          <mxGeometry x="1400" y="500" width="240" height="210" as="geometry" />
        </mxCell>
        <mxCell id="litellm-deploy-icon" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn-icons-png.flaticon.com/512/6441/6441106.png;" vertex="1" parent="1">
          <mxGeometry x="1415" y="510" width="45" height="45" as="geometry" />
        </mxCell>
        <mxCell id="litellm-deploy-label" value="&lt;b&gt;LiteLLM Gateway&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontStyle=1;fontColor=#F9A825;" vertex="1" parent="1">
          <mxGeometry x="1470" y="520" width="150" height="25" as="geometry" />
        </mxCell>

        <mxCell id="litellm-pod1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF59D;strokeColor=#F9A825;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1420" y="565" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="litellm-pod1-icon" value="ðŸ¤–" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="1430" y="575" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="litellm-pod1-label" value="&lt;b&gt;Pod 1&lt;/b&gt; | Port: 4000" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1460" y="583" width="145" height="15" as="geometry" />
        </mxCell>

        <mxCell id="litellm-pod2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF59D;strokeColor=#F9A825;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1420" y="635" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="litellm-pod2-icon" value="ðŸ¤–" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="1430" y="645" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="litellm-pod2-label" value="&lt;b&gt;Pod 2&lt;/b&gt; | Port: 4000" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1460" y="653" width="145" height="15" as="geometry" />
        </mxCell>

        <!-- LAYER 3: Data & StatefulSets -->
        <mxCell id="data-layer-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00695C;strokeWidth=2;opacity=40;" vertex="1" parent="1">
          <mxGeometry x="100" y="770" width="800" height="180" as="geometry" />
        </mxCell>

        <mxCell id="data-layer-label" value="&lt;b&gt;ðŸ’¾ DATA LAYER - StatefulSets with Persistent Storage&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontColor=#00695C;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="785" width="650" height="25" as="geometry" />
        </mxCell>

        <!-- PostgreSQL StatefulSet -->
        <mxCell id="postgres-sts-box" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#4DB6AC;strokeColor=#00695C;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="830" width="280" height="100" as="geometry" />
        </mxCell>
        <mxCell id="postgres-icon" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/postgresql/postgresql-original.svg;" vertex="1" parent="1">
          <mxGeometry x="160" y="845" width="45" height="45" as="geometry" />
        </mxCell>
        <mxCell id="postgres-label" value="&lt;b&gt;PostgreSQL 17 StatefulSet&lt;/b&gt;&lt;br&gt;Image: postgres:17-alpine&lt;br&gt;Replicas: 1 primary&lt;br&gt;PVC: 100Gi (RWO)&lt;br&gt;Service: postgres-service:5432" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="215" y="850" width="190" height="70" as="geometry" />
        </mxCell>

        <!-- Redis StatefulSet -->
        <mxCell id="redis-sts-box" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#FFB74D;strokeColor=#E65100;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="480" y="830" width="280" height="100" as="geometry" />
        </mxCell>
        <mxCell id="redis-icon" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/redis/redis-original.svg;" vertex="1" parent="1">
          <mxGeometry x="500" y="845" width="45" height="45" as="geometry" />
        </mxCell>
        <mxCell id="redis-label" value="&lt;b&gt;Redis 7 StatefulSet&lt;/b&gt;&lt;br&gt;Image: redis:7-alpine&lt;br&gt;Replicas: 1&lt;br&gt;PVC: 20Gi (RWO)&lt;br&gt;Service: redis-service:6379" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="555" y="850" width="190" height="70" as="geometry" />
        </mxCell>

        <!-- LAYER 4: Observability Stack -->
        <mxCell id="observability-layer-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#C2185B;strokeWidth=2;opacity=40;" vertex="1" parent="1">
          <mxGeometry x="940" y="770" width="1160" height="180" as="geometry" />
        </mxCell>

        <mxCell id="observability-layer-label" value="&lt;b&gt;ðŸ“Š OBSERVABILITY STACK - Metrics, Logs, Traces&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontColor=#C2185B;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="960" y="785" width="600" height="25" as="geometry" />
        </mxCell>

        <!-- Prometheus -->
        <mxCell id="prometheus-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F48FB1;strokeColor=#880E4F;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="970" y="830" width="160" height="100" as="geometry" />
        </mxCell>
        <mxCell id="prometheus-icon" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/prometheus/prometheus-original.svg;" vertex="1" parent="1">
          <mxGeometry x="985" y="840" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="prometheus-label" value="&lt;b&gt;Prometheus&lt;/b&gt;&lt;br&gt;Metrics DB&lt;br&gt;30d retention&lt;br&gt;Port: 9090" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="985" y="880" width="135" height="40" as="geometry" />
        </mxCell>

        <!-- Grafana -->
        <mxCell id="grafana-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F48FB1;strokeColor=#880E4F;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1170" y="830" width="160" height="100" as="geometry" />
        </mxCell>
        <mxCell id="grafana-icon" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/grafana/grafana-original.svg;" vertex="1" parent="1">
          <mxGeometry x="1185" y="840" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="grafana-label" value="&lt;b&gt;Grafana&lt;/b&gt;&lt;br&gt;Dashboards&lt;br&gt;Alerting&lt;br&gt;Port: 3000" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1185" y="880" width="135" height="40" as="geometry" />
        </mxCell>

        <!-- Alertmanager -->
        <mxCell id="alertmanager-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F48FB1;strokeColor=#880E4F;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1370" y="830" width="170" height="100" as="geometry" />
        </mxCell>
        <mxCell id="alertmanager-icon" value="ðŸ””" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="1385" y="840" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="alertmanager-label" value="&lt;b&gt;Alertmanager&lt;/b&gt;&lt;br&gt;Alert Routing&lt;br&gt;Slack/PagerDuty&lt;br&gt;Port: 9093" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1385" y="875" width="145" height="45" as="geometry" />
        </mxCell>

        <!-- Jaeger -->
        <mxCell id="jaeger-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F48FB1;strokeColor=#880E4F;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1580" y="830" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="jaeger-icon" value="ðŸ”" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="1595" y="840" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jaeger-label" value="&lt;b&gt;Jaeger&lt;/b&gt;&lt;br&gt;Distributed Tracing&lt;br&gt;OTLP receiver&lt;br&gt;Ports: 16686, 4317" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1595" y="875" width="155" height="45" as="geometry" />
        </mxCell>

        <!-- Config/Secrets Layer -->
        <mxCell id="config-layer-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;strokeWidth=2;opacity=40;" vertex="1" parent="1">
          <mxGeometry x="100" y="980" width="2000" height="170" as="geometry" />
        </mxCell>

        <mxCell id="config-layer-label" value="&lt;b&gt;ðŸ”§ CONFIGURATION &amp; SECRETS MANAGEMENT&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontColor=#E65100;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="995" width="600" height="25" as="geometry" />
        </mxCell>

        <mxCell id="configmap1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57C00;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="1040" width="220" height="80" as="geometry" />
        </mxCell>
        <mxCell id="configmap1-icon" value="ðŸ“„" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="150" y="1050" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="configmap1-label" value="&lt;b&gt;ConfigMap: app-config&lt;/b&gt;&lt;br&gt;Non-sensitive settings&lt;br&gt;API URLs, feature flags" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="180" y="1055" width="170" height="55" as="geometry" />
        </mxCell>

        <mxCell id="secret-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCC80;strokeColor=#E65100;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="1040" width="220" height="80" as="geometry" />
        </mxCell>
        <mxCell id="secret-icon" value="ðŸ”" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="410" y="1050" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="secret-label" value="&lt;b&gt;Secret: app-secrets&lt;/b&gt;&lt;br&gt;DB credentials, API keys&lt;br&gt;(encrypted at rest in etcd)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="440" y="1055" width="170" height="55" as="geometry" />
        </mxCell>

        <mxCell id="litellm-configmap-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57C00;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="660" y="1040" width="230" height="80" as="geometry" />
        </mxCell>
        <mxCell id="litellm-configmap-icon" value="ðŸ“„" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="670" y="1050" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="litellm-configmap-label" value="&lt;b&gt;ConfigMap: litellm-config&lt;/b&gt;&lt;br&gt;LiteLLM YAML&lt;br&gt;Model mappings" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="700" y="1055" width="180" height="55" as="geometry" />
        </mxCell>

        <mxCell id="prom-configmap-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57C00;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="930" y="1040" width="220" height="80" as="geometry" />
        </mxCell>
        <mxCell id="prom-configmap-icon" value="ðŸ“„" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="940" y="1050" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="prom-configmap-label" value="&lt;b&gt;ConfigMap: prom-config&lt;/b&gt;&lt;br&gt;Scrape configs, alerts&lt;br&gt;prometheus.yml" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="970" y="1055" width="170" height="55" as="geometry" />
        </mxCell>

        <!-- CI/CD Pipeline Section -->
        <mxCell id="cicd-section-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8EAF6;strokeColor=#3F51B5;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="60" y="1220" width="1200" height="320" as="geometry" />
        </mxCell>

        <mxCell id="github-icon-cicd" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg;" vertex="1" parent="1">
          <mxGeometry x="80" y="1235" width="50" height="50" as="geometry" />
        </mxCell>

        <mxCell id="cicd-section-label" value="&lt;b&gt;ðŸ”„ CI/CD PIPELINE - GitHub Actions&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=18;fontColor=#3F51B5;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="145" y="1245" width="500" height="30" as="geometry" />
        </mxCell>

        <!-- GitHub Source -->
        <mxCell id="github-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9FA8DA;strokeColor=#303F9F;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="1300" width="160" height="90" as="geometry" />
        </mxCell>
        <mxCell id="github-icon2" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg;" vertex="1" parent="1">
          <mxGeometry x="105" y="1310" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="github-label" value="&lt;b&gt;GitHub Repository&lt;/b&gt;&lt;br&gt;Source Control&lt;br&gt;Pull Requests&lt;br&gt;Branch Protection" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="145" y="1315" width="95" height="65" as="geometry" />
        </mxCell>

        <!-- CI Stage -->
        <mxCell id="ci-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9FA8DA;strokeColor=#303F9F;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="290" y="1300" width="180" height="110" as="geometry" />
        </mxCell>
        <mxCell id="ci-icon" value="âœ…" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="300" y="1308" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="ci-label" value="&lt;b&gt;CI Workflow&lt;/b&gt;&lt;br&gt;â€¢ Lint (ruff, black)&lt;br&gt;â€¢ Type check (mypy)&lt;br&gt;â€¢ Unit tests (pytest)&lt;br&gt;â€¢ Coverage report&lt;br&gt;â€¢ Security scan (bandit)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;spacingLeft=5;" vertex="1" parent="1">
          <mxGeometry x="300" y="1333" width="160" height="70" as="geometry" />
        </mxCell>

        <!-- Build Stage -->
        <mxCell id="build-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9FA8DA;strokeColor=#303F9F;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="510" y="1300" width="180" height="110" as="geometry" />
        </mxCell>
        <mxCell id="docker-icon" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/docker/docker-original.svg;" vertex="1" parent="1">
          <mxGeometry x="520" y="1308" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="build-label" value="&lt;b&gt;Build &amp; Push&lt;/b&gt;&lt;br&gt;â€¢ Docker build&lt;br&gt;â€¢ Push to registry&lt;br&gt;â€¢ Tag: commit SHA&lt;br&gt;â€¢ Image scan (Trivy)&lt;br&gt;â€¢ Vulnerability check" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;spacingLeft=5;" vertex="1" parent="1">
          <mxGeometry x="520" y="1338" width="160" height="65" as="geometry" />
        </mxCell>

        <!-- Deploy Stage -->
        <mxCell id="deploy-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9FA8DA;strokeColor=#303F9F;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="730" y="1300" width="190" height="110" as="geometry" />
        </mxCell>
        <mxCell id="kubectl-icon" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kubernetes/kubernetes-plain.svg;" vertex="1" parent="1">
          <mxGeometry x="740" y="1308" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="deploy-label" value="&lt;b&gt;Deploy to K8s&lt;/b&gt;&lt;br&gt;â€¢ kubectl apply&lt;br&gt;â€¢ Rolling update&lt;br&gt;â€¢ Health checks&lt;br&gt;â€¢ Smoke tests&lt;br&gt;â€¢ Auto rollback on fail" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;spacingLeft=5;" vertex="1" parent="1">
          <mxGeometry x="740" y="1338" width="170" height="65" as="geometry" />
        </mxCell>

        <!-- Notification Stage -->
        <mxCell id="notify-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9FA8DA;strokeColor=#303F9F;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="960" y="1300" width="160" height="90" as="geometry" />
        </mxCell>
        <mxCell id="notify-icon" value="ðŸ“¢" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="970" y="1310" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="notify-label" value="&lt;b&gt;Notifications&lt;/b&gt;&lt;br&gt;Slack alerts&lt;br&gt;Status badges&lt;br&gt;Deploy reports" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="970" y="1335" width="140" height="50" as="geometry" />
        </mxCell>

        <!-- E2E Tests -->
        <mxCell id="e2e-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C5CAE9;strokeColor=#303F9F;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="290" y="1430" width="400" height="80" as="geometry" />
        </mxCell>
        <mxCell id="e2e-icon" value="ðŸ§ª" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="300" y="1445" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="e2e-label" value="&lt;b&gt;E2E Tests (Post-Deploy)&lt;/b&gt; â€¢ Smoke tests â€¢ API validation â€¢ Integration tests â€¢ Performance benchmarks" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="330" y="1450" width="350" height="50" as="geometry" />
        </mxCell>

        <!-- External Dependencies Section -->
        <mxCell id="external-section-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F5F5;strokeColor=#616161;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="1300" y="1220" width="840" height="320" as="geometry" />
        </mxCell>

        <mxCell id="external-section-label" value="&lt;b&gt;ðŸŒ EXTERNAL DEPENDENCIES&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=18;fontColor=#424242;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1330" y="1245" width="400" height="30" as="geometry" />
        </mxCell>

        <mxCell id="registry-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0E0E0;strokeColor=#616161;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1330" y="1300" width="230" height="90" as="geometry" />
        </mxCell>
        <mxCell id="registry-icon" value="ðŸ³" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="1340" y="1310" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="registry-label" value="&lt;b&gt;Container Registry&lt;/b&gt;&lt;br&gt;Docker Hub / ECR / GCR&lt;br&gt;Artifact storage&lt;br&gt;Image versioning" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1375" y="1315" width="175" height="65" as="geometry" />
        </mxCell>

        <mxCell id="dns-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0E0E0;strokeColor=#616161;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1600" y="1300" width="230" height="90" as="geometry" />
        </mxCell>
        <mxCell id="dns-icon" value="ðŸŒ" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="1610" y="1310" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dns-label" value="&lt;b&gt;DNS Provider&lt;/b&gt;&lt;br&gt;Route53 / Cloud DNS&lt;br&gt;Domain management&lt;br&gt;SSL certificates" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1645" y="1315" width="175" height="65" as="geometry" />
        </mxCell>

        <mxCell id="backup-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0E0E0;strokeColor=#616161;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1330" y="1420" width="230" height="90" as="geometry" />
        </mxCell>
        <mxCell id="backup-icon" value="ðŸ’¾" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="1340" y="1430" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="backup-label" value="&lt;b&gt;Backup Storage&lt;/b&gt;&lt;br&gt;S3 / GCS / Azure Blob&lt;br&gt;Database backups&lt;br&gt;Daily snapshots" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1375" y="1435" width="175" height="65" as="geometry" />
        </mxCell>

        <mxCell id="cert-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0E0E0;strokeColor=#616161;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1600" y="1420" width="230" height="90" as="geometry" />
        </mxCell>
        <mxCell id="cert-icon" value="ðŸ”’" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="1610" y="1430" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cert-label" value="&lt;b&gt;Certificate Manager&lt;/b&gt;&lt;br&gt;Let's Encrypt / ACM&lt;br&gt;TLS certificates&lt;br&gt;Auto-renewal" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1645" y="1435" width="175" height="65" as="geometry" />
        </mxCell>

        <!-- Key Relationships -->
        <mxCell id="r1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#E65100;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="lb-box" target="api-deploy-container">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="r2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#1976D2;startArrow=none;startFill=0;endArrow=classic;endFill=1;dashed=1;" edge="1" parent="1" source="api-pod1-box" target="postgres-sts-box">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="215" y="745" />
              <mxPoint x="280" y="745" />
            </Array>
          </mxGeometry>
        </mxCell>

        <mxCell id="r3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#6A1B9A;startArrow=none;startFill=0;endArrow=classic;endFill=1;dashed=1;" edge="1" parent="1" source="worker-pod1-box" target="redis-sts-box">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="695" y="745" />
              <mxPoint x="620" y="745" />
            </Array>
          </mxGeometry>
        </mxCell>

        <mxCell id="r4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#424242;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="github-box" target="ci-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="r5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#424242;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="ci-box" target="build-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="r6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#424242;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="build-box" target="deploy-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="r7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#424242;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="deploy-box" target="notify-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Info Boxes -->
        <mxCell id="scaling-info" value="&lt;b&gt;ðŸ“ˆ Scaling Strategy&lt;/b&gt;&lt;br&gt;&lt;br&gt;â€¢ &lt;b&gt;API:&lt;/b&gt; HPA 3-10 replicas (CPU 70%)&lt;br&gt;â€¢ &lt;b&gt;Workers:&lt;/b&gt; HPA 3-10 (queue depth)&lt;br&gt;â€¢ &lt;b&gt;DB:&lt;/b&gt; Vertical + read replicas&lt;br&gt;â€¢ &lt;b&gt;Redis:&lt;/b&gt; Sentinel HA / Cluster mode&lt;br&gt;â€¢ &lt;b&gt;Resources:&lt;/b&gt; Limits on all pods&lt;br&gt;â€¢ &lt;b&gt;Probes:&lt;/b&gt; Liveness + readiness" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#01579B;strokeWidth=2;align=left;verticalAlign=top;fontSize=10;spacingLeft=10;spacingTop=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1880" y="1040" width="240" height="180" as="geometry" />
        </mxCell>

        <mxCell id="ha-info" value="&lt;b&gt;ðŸ”„ High Availability&lt;/b&gt;&lt;br&gt;&lt;br&gt;â€¢ Multi-AZ deployment&lt;br&gt;â€¢ Pod anti-affinity rules&lt;br&gt;â€¢ Automated health checks&lt;br&gt;â€¢ Rolling updates (zero downtime)&lt;br&gt;â€¢ Auto rollback on failure&lt;br&gt;â€¢ PVC with automatic backups" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;strokeWidth=2;align=left;verticalAlign=top;fontSize=10;spacingLeft=10;spacingTop=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="2170" y="160" width="190" height="190" as="geometry" />
        </mxCell>

        <mxCell id="security-info" value="&lt;b&gt;ðŸ”’ Security&lt;/b&gt;&lt;br&gt;&lt;br&gt;â€¢ Network policies (pod isolation)&lt;br&gt;â€¢ RBAC for service accounts&lt;br&gt;â€¢ Secrets encrypted (etcd)&lt;br&gt;â€¢ TLS everywhere&lt;br&gt;â€¢ Image scanning in CI&lt;br&gt;â€¢ Regular security patches&lt;br&gt;â€¢ CIS benchmark compliance" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#C2185B;strokeWidth=2;align=left;verticalAlign=top;fontSize=10;spacingLeft=10;spacingTop=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="2170" y="380" width="190" height="200" as="geometry" />
        </mxCell>

        <mxCell id="backup-info" value="&lt;b&gt;ðŸ’¾ Backup &amp; DR&lt;/b&gt;&lt;br&gt;&lt;br&gt;â€¢ Daily PVC snapshots&lt;br&gt;â€¢ PostgreSQL pg_dump&lt;br&gt;â€¢ Redis RDB backups&lt;br&gt;â€¢ 30-day retention&lt;br&gt;â€¢ Cross-region replication&lt;br&gt;â€¢ Disaster recovery tested" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F9A825;strokeWidth=2;align=left;verticalAlign=top;fontSize=10;spacingLeft=10;spacingTop=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="2170" y="610" width="190" height="170" as="geometry" />
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FAFAFA;strokeColor=#757575;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="2170" y="810" width="190" height="350" as="geometry" />
        </mxCell>

        <mxCell id="legend-title" value="&lt;b&gt;LEGEND&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="2185" y="820" width="160" height="25" as="geometry" />
        </mxCell>

        <mxCell id="legend-deployment" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64B5F6;strokeColor=#0D47A1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="2185" y="855" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-deployment-label" value="Deployment" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="2255" y="860" width="90" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-sts" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#4DB6AC;strokeColor=#00695C;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="2185" y="895" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-sts-label" value="StatefulSet" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="2255" y="900" width="90" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-pod" value="ðŸ“¦" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="2185" y="935" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-pod-label" value="Pod" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="2255" y="940" width="90" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-hpa" value="âš¡" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90CAF9;strokeColor=#1565C0;strokeWidth=2;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="2185" y="975" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-hpa-label" value="HPA" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="2255" y="980" width="90" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-configmap" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57C00;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="2185" y="1015" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-configmap-label" value="ConfigMap" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="2255" y="1020" width="90" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-secret" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCC80;strokeColor=#E65100;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="2185" y="1055" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-secret-label" value="Secret" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="2255" y="1060" width="90" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-external" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0E0E0;strokeColor=#616161;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="2185" y="1095" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-external-label" value="External" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="2255" y="1100" width="90" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-sync-arrow" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#424242;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2185" y="1145" as="sourcePoint" />
            <mxPoint x="2235" y="1145" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-sync-label" value="Traffic flow" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="2255" y="1135" width="90" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-async-arrow" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#424242;dashed=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2185" y="1175" as="sourcePoint" />
            <mxPoint x="2235" y="1175" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-async-label" value="Data access" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="2255" y="1165" width="90" height="20" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
