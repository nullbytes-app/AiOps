<mxfile host="app.diagrams.net" modified="2025-01-12T00:00:00.000Z" agent="AI Agents Team" version="24.0.0">
  <diagram id="data-flow-security" name="5. Data Flow &amp; Security Architecture">
    <mxGraphModel dx="2200" dy="1400" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2200" pageHeight="1400" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title Section -->
        <mxCell id="title-bg" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#C2185B;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="40" y="30" width="2120" height="100" as="geometry" />
        </mxCell>

        <mxCell id="security-icon-main" value="ðŸ›¡ï¸" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=48;" vertex="1" parent="1">
          <mxGeometry x="60" y="50" width="60" height="60" as="geometry" />
        </mxCell>

        <mxCell id="title" value="&lt;b&gt;ðŸ”’ Data Flow &amp; Multi-Tenant Security Architecture&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=26;fontStyle=1;fontColor=#C2185B;" vertex="1" parent="1">
          <mxGeometry x="140" y="50" width="900" height="40" as="geometry" />
        </mxCell>

        <mxCell id="subtitle" value="Complete data flow paths with tenant isolation, defense-in-depth security layers, and compliance controls&lt;br&gt;&lt;b&gt;Target Audience:&lt;/b&gt; Security Teams â€¢ Compliance Officers â€¢ Solution Architects â€¢ Enterprise Customers" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#424242;" vertex="1" parent="1">
          <mxGeometry x="140" y="90" width="1200" height="35" as="geometry" />
        </mxCell>

        <mxCell id="security-badge" value="&lt;b&gt;ZERO-TRUST&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C62828;strokeColor=#B71C1C;fontSize=14;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="2000" y="55" width="140" height="50" as="geometry" />
        </mxCell>

        <!-- PATH 1: Webhook Flow -->
        <mxCell id="path1-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=3;opacity=50;" vertex="1" parent="1">
          <mxGeometry x="40" y="160" width="2120" height="240" as="geometry" />
        </mxCell>

        <mxCell id="path1-icon" value="ðŸ”„" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;" vertex="1" parent="1">
          <mxGeometry x="60" y="170" width="40" height="40" as="geometry" />
        </mxCell>

        <mxCell id="path1-label" value="&lt;b&gt;PATH 1: WEBHOOK PROCESSING FLOW (Async)&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="110" y="175" width="600" height="30" as="geometry" />
        </mxCell>

        <!-- Step 0: Ticketing System -->
        <mxCell id="p1-step0-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#0D47A1;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="230" width="150" height="140" as="geometry" />
        </mxCell>
        <mxCell id="p1-step0-icon" value="ðŸŽ«" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;" vertex="1" parent="1">
          <mxGeometry x="85" y="240" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="p1-step0-title" value="&lt;b&gt;Ticketing System&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="85" y="280" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="p1-step0-details" value="ServiceDesk Plus&lt;br&gt;Jira / Zendesk&lt;br&gt;&lt;br&gt;Sends webhook with&lt;br&gt;tenant context" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="75" y="305" width="140" height="60" as="geometry" />
        </mxCell>

        <!-- Step 1: Validate -->
        <mxCell id="p1-step1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64B5F6;strokeColor=#0D47A1;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="260" y="230" width="150" height="140" as="geometry" />
        </mxCell>
        <mxCell id="p1-step1-icon" value="âœ…" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;" vertex="1" parent="1">
          <mxGeometry x="275" y="240" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="p1-step1-title" value="&lt;b&gt;1. Validate&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="275" y="280" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="p1-step1-details" value="ðŸ” HMAC signature&lt;br&gt;ðŸ“‹ Extract tenant_id&lt;br&gt;ðŸš« Reject invalid" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="265" y="310" width="140" height="50" as="geometry" />
        </mxCell>

        <!-- Step 2: Enqueue -->
        <mxCell id="p1-step2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64B5F6;strokeColor=#0D47A1;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="450" y="230" width="150" height="140" as="geometry" />
        </mxCell>
        <mxCell id="p1-step2-icon" value="ðŸ“¤" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;" vertex="1" parent="1">
          <mxGeometry x="465" y="240" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="p1-step2-title" value="&lt;b&gt;2. Enqueue&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="465" y="280" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="p1-step2-details" value="ðŸ·ï¸ Set tenant context&lt;br&gt;ðŸ“¥ Push to Redis&lt;br&gt;â±ï¸ Queue for worker" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="455" y="310" width="140" height="50" as="geometry" />
        </mxCell>

        <!-- Step 3: Worker -->
        <mxCell id="p1-step3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64B5F6;strokeColor=#0D47A1;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="230" width="160" height="140" as="geometry" />
        </mxCell>
        <mxCell id="p1-step3-icon" value="âš™ï¸" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;" vertex="1" parent="1">
          <mxGeometry x="655" y="240" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="p1-step3-title" value="&lt;b&gt;3. Worker Picks Up&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="655" y="280" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="p1-step3-details" value="ðŸ”’ Set RLS context&lt;br&gt;BEGIN;&lt;br&gt;SET app.tenant_id" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="645" y="310" width="150" height="50" as="geometry" />
        </mxCell>

        <!-- Step 4: Execute Agent -->
        <mxCell id="p1-step4-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64B5F6;strokeColor=#0D47A1;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="840" y="230" width="170" height="140" as="geometry" />
        </mxCell>
        <mxCell id="p1-step4-icon" value="ðŸ¤–" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;" vertex="1" parent="1">
          <mxGeometry x="855" y="240" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="p1-step4-title" value="&lt;b&gt;4. Execute Agent&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="855" y="280" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="p1-step4-details" value="ðŸ§  Call LiteLLM&lt;br&gt;ðŸ”§ Invoke MCP tools&lt;br&gt;ðŸ·ï¸ All scoped to tenant" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="845" y="310" width="160" height="50" as="geometry" />
        </mxCell>

        <!-- Step 5: Store Results -->
        <mxCell id="p1-step5-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64B5F6;strokeColor=#0D47A1;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1050" y="230" width="170" height="140" as="geometry" />
        </mxCell>
        <mxCell id="p1-step5-icon" value="ðŸ’¾" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;" vertex="1" parent="1">
          <mxGeometry x="1065" y="240" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="p1-step5-title" value="&lt;b&gt;5. Store Results&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1065" y="280" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="p1-step5-details" value="ðŸ’¾ INSERT INTO&lt;br&gt;enhancement_history&lt;br&gt;ðŸ”’ RLS enforced" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1055" y="310" width="160" height="50" as="geometry" />
        </mxCell>

        <!-- Step 6: Update Ticket -->
        <mxCell id="p1-step6-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64B5F6;strokeColor=#0D47A1;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1260" y="230" width="170" height="140" as="geometry" />
        </mxCell>
        <mxCell id="p1-step6-icon" value="ðŸ“" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;" vertex="1" parent="1">
          <mxGeometry x="1275" y="240" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="p1-step6-title" value="&lt;b&gt;6. Update Ticket&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1275" y="280" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="p1-step6-details" value="ðŸ”Œ Plugin-based API&lt;br&gt;ðŸ”‘ Tenant credentials&lt;br&gt;âœ… Update status" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1265" y="310" width="160" height="50" as="geometry" />
        </mxCell>

        <!-- Step 7: Audit Log -->
        <mxCell id="p1-step7-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64B5F6;strokeColor=#0D47A1;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1470" y="230" width="150" height="140" as="geometry" />
        </mxCell>
        <mxCell id="p1-step7-icon" value="ðŸ“‹" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;" vertex="1" parent="1">
          <mxGeometry x="1485" y="240" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="p1-step7-title" value="&lt;b&gt;7. Audit Log&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1485" y="280" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="p1-step7-details" value="ðŸ“ Record all actions&lt;br&gt;â° Timestamps&lt;br&gt;ðŸ‘¤ User tracking" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1475" y="310" width="140" height="50" as="geometry" />
        </mxCell>

        <!-- Arrows for Path 1 -->
        <mxCell id="p1-arrow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#1976D2;endArrow=classic;endFill=1;" edge="1" parent="1" source="p1-step0-box" target="p1-step1-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p1-arrow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#1976D2;endArrow=classic;endFill=1;" edge="1" parent="1" source="p1-step1-box" target="p1-step2-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p1-arrow3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#1976D2;endArrow=classic;endFill=1;" edge="1" parent="1" source="p1-step2-box" target="p1-step3-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p1-arrow4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#1976D2;endArrow=classic;endFill=1;" edge="1" parent="1" source="p1-step3-box" target="p1-step4-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p1-arrow5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#1976D2;endArrow=classic;endFill=1;" edge="1" parent="1" source="p1-step4-box" target="p1-step5-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p1-arrow6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#1976D2;endArrow=classic;endFill=1;" edge="1" parent="1" source="p1-step5-box" target="p1-step6-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p1-arrow7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#1976D2;endArrow=classic;endFill=1;" edge="1" parent="1" source="p1-step6-box" target="p1-step7-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- RLS Mechanism Box -->
        <mxCell id="rls-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="1660" y="230" width="480" height="170" as="geometry" />
        </mxCell>

        <mxCell id="rls-icon" value="ðŸ”" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;" vertex="1" parent="1">
          <mxGeometry x="1675" y="240" width="35" height="35" as="geometry" />
        </mxCell>

        <mxCell id="rls-label" value="&lt;b&gt;PostgreSQL RLS Mechanism&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#6A1B9A;" vertex="1" parent="1">
          <mxGeometry x="1720" y="245" width="400" height="25" as="geometry" />
        </mxCell>

        <mxCell id="rls-step1" value="&lt;b&gt;1. Set Context&lt;/b&gt;&lt;br&gt;BEGIN;&lt;br&gt;SET app.tenant_id = 'uuid';" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;fontSize=9;align=left;spacingLeft=5;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1680" y="285" width="140" height="95" as="geometry" />
        </mxCell>

        <mxCell id="rls-step2" value="&lt;b&gt;2. RLS Policy&lt;/b&gt;&lt;br&gt;WHERE tenant_id =&lt;br&gt;current_setting(&lt;br&gt;'app.tenant_id')::uuid" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;fontSize=9;align=left;spacingLeft=5;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1840" y="285" width="140" height="95" as="geometry" />
        </mxCell>

        <mxCell id="rls-step3" value="&lt;b&gt;3. Auto-Filtering&lt;/b&gt;&lt;br&gt;All queries&lt;br&gt;automatically filtered&lt;br&gt;by tenant_id" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;fontSize=9;align=left;spacingLeft=5;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="2000" y="285" width="120" height="95" as="geometry" />
        </mxCell>

        <mxCell id="rls-arrow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#6A1B9A;endArrow=classic;endFill=1;" edge="1" parent="1" source="rls-step1" target="rls-step2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="rls-arrow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#6A1B9A;endArrow=classic;endFill=1;" edge="1" parent="1" source="rls-step2" target="rls-step3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- PATH 2: Admin Operations -->
        <mxCell id="path2-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;strokeWidth=3;opacity=50;" vertex="1" parent="1">
          <mxGeometry x="40" y="430" width="1300" height="180" as="geometry" />
        </mxCell>

        <mxCell id="path2-icon" value="ðŸ‘¤" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;" vertex="1" parent="1">
          <mxGeometry x="60" y="440" width="40" height="40" as="geometry" />
        </mxCell>

        <mxCell id="path2-label" value="&lt;b&gt;PATH 2: ADMIN UI OPERATIONS (Read-Only, Tenant-Scoped)&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#6A1B9A;" vertex="1" parent="1">
          <mxGeometry x="110" y="445" width="750" height="30" as="geometry" />
        </mxCell>

        <mxCell id="p2-step1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CE93D8;strokeColor=#6A1B9A;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="500" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="p2-step1-icon" value="ðŸ‘¨â€ðŸ’¼" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="80" y="510" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="p2-step1-label" value="&lt;b&gt;Administrator&lt;/b&gt;&lt;br&gt;ðŸ”‘ Authenticates&lt;br&gt;ðŸ·ï¸ Selects tenant" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="115" y="515" width="85" height="60" as="geometry" />
        </mxCell>

        <mxCell id="p2-step2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BA68C8;strokeColor=#6A1B9A;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="250" y="500" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="p2-step2-icon" value="ðŸ“Š" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="260" y="510" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="p2-step2-label" value="&lt;b&gt;Streamlit UI&lt;/b&gt;&lt;br&gt;ðŸ·ï¸ Set session tenant&lt;br&gt;ðŸ” Query with RLS" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="295" y="515" width="95" height="60" as="geometry" />
        </mxCell>

        <mxCell id="p2-step3-box" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#AB47BC;strokeColor=#6A1B9A;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="440" y="495" width="160" height="90" as="geometry" />
        </mxCell>
        <mxCell id="p2-step3-icon" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/postgresql/postgresql-original.svg;" vertex="1" parent="1">
          <mxGeometry x="455" y="505" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="p2-step3-label" value="&lt;b&gt;PostgreSQL&lt;/b&gt;&lt;br&gt;ðŸ”’ RLS filters rows&lt;br&gt;WHERE tenant_id = ..." style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="495" y="515" width="95" height="60" as="geometry" />
        </mxCell>

        <mxCell id="p2-step4-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BA68C8;strokeColor=#6A1B9A;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="500" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="p2-step4-icon" value="ðŸ“ˆ" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="650" y="510" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="p2-step4-label" value="&lt;b&gt;Display Results&lt;/b&gt;&lt;br&gt;âœ… Only tenant-scoped&lt;br&gt;ðŸ“Š Data visible" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="685" y="515" width="95" height="60" as="geometry" />
        </mxCell>

        <mxCell id="p2-step5-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F48FB1;strokeColor=#880E4F;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="830" y="500" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="p2-step5-icon" value="ðŸ”" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="840" y="510" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="p2-step5-label" value="&lt;b&gt;Encrypted Fields&lt;/b&gt;&lt;br&gt;ðŸ”’ API keys never shown&lt;br&gt;âœ¨ Masked in UI" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="875" y="515" width="125" height="60" as="geometry" />
        </mxCell>

        <!-- Arrows for Path 2 -->
        <mxCell id="p2-arrow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#6A1B9A;endArrow=classic;endFill=1;" edge="1" parent="1" source="p2-step1-box" target="p2-step2-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p2-arrow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#6A1B9A;endArrow=classic;endFill=1;" edge="1" parent="1" source="p2-step2-box" target="p2-step3-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p2-arrow3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#6A1B9A;endArrow=classic;endFill=1;" edge="1" parent="1" source="p2-step3-box" target="p2-step4-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p2-arrow4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#6A1B9A;endArrow=classic;endFill=1;" edge="1" parent="1" source="p2-step4-box" target="p2-step5-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Key Security Features Box -->
        <mxCell id="features-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F9A825;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="1380" y="430" width="260" height="180" as="geometry" />
        </mxCell>

        <mxCell id="features-icon" value="â­" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;" vertex="1" parent="1">
          <mxGeometry x="1395" y="440" width="35" height="35" as="geometry" />
        </mxCell>

        <mxCell id="features-label" value="&lt;b&gt;Key Security Features&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1440" y="445" width="180" height="25" as="geometry" />
        </mxCell>

        <mxCell id="feature1" value="âœ… Zero-trust architecture" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1400" y="480" width="220" height="20" as="geometry" />
        </mxCell>

        <mxCell id="feature2" value="âœ… Defense in depth (4 layers)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1400" y="505" width="220" height="20" as="geometry" />
        </mxCell>

        <mxCell id="feature3" value="âœ… Database-level isolation" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1400" y="530" width="220" height="20" as="geometry" />
        </mxCell>

        <mxCell id="feature4" value="âœ… No tenant data leakage" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1400" y="555" width="220" height="20" as="geometry" />
        </mxCell>

        <mxCell id="feature5" value="âœ… Complete audit trail" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1400" y="580" width="220" height="20" as="geometry" />
        </mxCell>

        <!-- DEFENSE IN DEPTH: 4 Security Layers -->
        <mxCell id="security-layers-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="40" y="640" width="2120" height="280" as="geometry" />
        </mxCell>

        <mxCell id="security-layers-icon" value="ðŸ›¡ï¸" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;" vertex="1" parent="1">
          <mxGeometry x="60" y="650" width="40" height="40" as="geometry" />
        </mxCell>

        <mxCell id="security-layers-label" value="&lt;b&gt;DEFENSE IN DEPTH - 4 Security Layers&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#E65100;" vertex="1" parent="1">
          <mxGeometry x="110" y="655" width="600" height="30" as="geometry" />
        </mxCell>

        <!-- Layer 1: Transport Security -->
        <mxCell id="layer1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#C62828;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="710" width="480" height="180" as="geometry" />
        </mxCell>
        <mxCell id="layer1-icon" value="ðŸ”’" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;" vertex="1" parent="1">
          <mxGeometry x="85" y="720" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="layer1-title" value="&lt;b&gt;Layer 1: Transport Security&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#C62828;" vertex="1" parent="1">
          <mxGeometry x="130" y="725" width="400" height="25" as="geometry" />
        </mxCell>
        <mxCell id="layer1-items" value="ðŸ” TLS 1.3 everywhere&lt;br&gt;ðŸŒ HTTPS only (HSTS enabled)&lt;br&gt;ðŸ“Œ Certificate pinning&lt;br&gt;ðŸ”— mTLS between services (optional)&lt;br&gt;ðŸ›¡ï¸ Network policies (K8s)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;spacingLeft=10;" vertex="1" parent="1">
          <mxGeometry x="85" y="760" width="450" height="115" as="geometry" />
        </mxCell>

        <!-- Layer 2: Authentication & Authorization -->
        <mxCell id="layer2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="580" y="710" width="480" height="180" as="geometry" />
        </mxCell>
        <mxCell id="layer2-icon" value="ðŸ”‘" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;" vertex="1" parent="1">
          <mxGeometry x="595" y="720" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="layer2-title" value="&lt;b&gt;Layer 2: Authentication &amp; Authorization&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#2E7D32;" vertex="1" parent="1">
          <mxGeometry x="640" y="725" width="400" height="25" as="geometry" />
        </mxCell>
        <mxCell id="layer2-items" value="âœï¸ HMAC webhook signatures&lt;br&gt;ðŸŽ« JWT tokens (admin UI, future)&lt;br&gt;ðŸ‘¤ RBAC (K8s service accounts)&lt;br&gt;ðŸš¦ Rate limiting per tenant&lt;br&gt;ðŸ”‘ API key validation (BYOK)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;spacingLeft=10;" vertex="1" parent="1">
          <mxGeometry x="595" y="760" width="450" height="115" as="geometry" />
        </mxCell>

        <!-- Layer 3: Data Protection -->
        <mxCell id="layer3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#01579B;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="710" width="480" height="180" as="geometry" />
        </mxCell>
        <mxCell id="layer3-icon" value="ðŸ”" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;" vertex="1" parent="1">
          <mxGeometry x="1105" y="720" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="layer3-title" value="&lt;b&gt;Layer 3: Data Protection&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#01579B;" vertex="1" parent="1">
          <mxGeometry x="1150" y="725" width="400" height="25" as="geometry" />
        </mxCell>
        <mxCell id="layer3-items" value="ðŸ”’ PostgreSQL RLS (row-level security)&lt;br&gt;ðŸ” Encrypted secrets (Fernet)&lt;br&gt;ðŸ’¾ K8s secrets encrypted at rest (etcd)&lt;br&gt;ðŸ’¿ Automated backups (encrypted)&lt;br&gt;ðŸ™ˆ PII redaction in logs" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;spacingLeft=10;" vertex="1" parent="1">
          <mxGeometry x="1105" y="760" width="450" height="115" as="geometry" />
        </mxCell>

        <!-- Layer 4: Observability & Audit -->
        <mxCell id="layer4-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F9A825;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1600" y="710" width="540" height="180" as="geometry" />
        </mxCell>
        <mxCell id="layer4-icon" value="ðŸ“Š" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;" vertex="1" parent="1">
          <mxGeometry x="1615" y="720" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="layer4-title" value="&lt;b&gt;Layer 4: Observability &amp; Audit&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#F9A825;" vertex="1" parent="1">
          <mxGeometry x="1660" y="725" width="450" height="25" as="geometry" />
        </mxCell>
        <mxCell id="layer4-items" value="ðŸ“ Full audit log (all actions)&lt;br&gt;ðŸ” Distributed tracing (OpenTelemetry)&lt;br&gt;ðŸ“Š Metrics (Prometheus)&lt;br&gt;ðŸš¨ Alerting (anomaly detection)&lt;br&gt;ðŸ“‹ Centralized logging (structured)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;spacingLeft=10;" vertex="1" parent="1">
          <mxGeometry x="1615" y="760" width="510" height="115" as="geometry" />
        </mxCell>

        <!-- COMPLIANCE & DATA GOVERNANCE -->
        <mxCell id="compliance-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="40" y="950" width="2120" height="200" as="geometry" />
        </mxCell>

        <mxCell id="compliance-icon" value="âœ“" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;fontColor=#2E7D32;" vertex="1" parent="1">
          <mxGeometry x="60" y="960" width="40" height="40" as="geometry" />
        </mxCell>

        <mxCell id="compliance-label" value="&lt;b&gt;COMPLIANCE &amp; DATA GOVERNANCE&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#2E7D32;" vertex="1" parent="1">
          <mxGeometry x="110" y="965" width="600" height="30" as="geometry" />
        </mxCell>

        <mxCell id="comp-soc2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#1B5E20;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="1020" width="310" height="110" as="geometry" />
        </mxCell>
        <mxCell id="comp-soc2-icon" value="ðŸ†" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="85" y="1030" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="comp-soc2-label" value="&lt;b&gt;SOC 2 Ready&lt;/b&gt;&lt;br&gt;âœ… Audit logging&lt;br&gt;âœ… Access controls&lt;br&gt;âœ… Encryption at rest/transit&lt;br&gt;âœ… Monitoring &amp; alerting" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;spacingLeft=10;spacingTop=5;" vertex="1" parent="1">
          <mxGeometry x="120" y="1035" width="245" height="85" as="geometry" />
        </mxCell>

        <mxCell id="comp-gdpr" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#1B5E20;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="410" y="1020" width="310" height="110" as="geometry" />
        </mxCell>
        <mxCell id="comp-gdpr-icon" value="ðŸ‡ªðŸ‡º" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="425" y="1030" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="comp-gdpr-label" value="&lt;b&gt;GDPR Compliant&lt;/b&gt;&lt;br&gt;âœ… Data minimization&lt;br&gt;âœ… Right to deletion&lt;br&gt;âœ… Consent management&lt;br&gt;âœ… Data portability" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;spacingLeft=10;spacingTop=5;" vertex="1" parent="1">
          <mxGeometry x="460" y="1035" width="245" height="85" as="geometry" />
        </mxCell>

        <mxCell id="comp-hipaa" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#1B5E20;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="1020" width="310" height="110" as="geometry" />
        </mxCell>
        <mxCell id="comp-hipaa-icon" value="ðŸ¥" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="765" y="1030" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="comp-hipaa-label" value="&lt;b&gt;HIPAA Ready (if needed)&lt;/b&gt;&lt;br&gt;âœ… PHI encryption&lt;br&gt;âœ… Audit trails&lt;br&gt;âœ… Access controls&lt;br&gt;âœ… BAA support" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;spacingLeft=10;spacingTop=5;" vertex="1" parent="1">
          <mxGeometry x="800" y="1035" width="245" height="85" as="geometry" />
        </mxCell>

        <mxCell id="comp-retention" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#1B5E20;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="1020" width="310" height="110" as="geometry" />
        </mxCell>
        <mxCell id="comp-retention-icon" value="ðŸ’¾" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="1105" y="1030" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="comp-retention-label" value="&lt;b&gt;Data Retention&lt;/b&gt;&lt;br&gt;âœ… Configurable per tenant&lt;br&gt;âœ… Automated cleanup&lt;br&gt;âœ… Secure deletion&lt;br&gt;âœ… Backup retention" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;spacingLeft=10;spacingTop=5;" vertex="1" parent="1">
          <mxGeometry x="1140" y="1035" width="245" height="85" as="geometry" />
        </mxCell>

        <mxCell id="comp-testing" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#1B5E20;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1430" y="1020" width="310" height="110" as="geometry" />
        </mxCell>
        <mxCell id="comp-testing-icon" value="ðŸ”" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="1445" y="1030" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="comp-testing-label" value="&lt;b&gt;Security Testing&lt;/b&gt;&lt;br&gt;âœ… Regular pen testing&lt;br&gt;âœ… Vulnerability scanning&lt;br&gt;âœ… SAST/DAST in CI/CD&lt;br&gt;âœ… Third-party audits" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;spacingLeft=10;spacingTop=5;" vertex="1" parent="1">
          <mxGeometry x="1480" y="1035" width="245" height="85" as="geometry" />
        </mxCell>

        <mxCell id="comp-incident" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#1B5E20;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1770" y="1020" width="370" height="110" as="geometry" />
        </mxCell>
        <mxCell id="comp-incident-icon" value="ðŸš¨" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="1785" y="1030" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="comp-incident-label" value="&lt;b&gt;Incident Response&lt;/b&gt;&lt;br&gt;âœ… Runbooks defined&lt;br&gt;âœ… Alerting configured&lt;br&gt;âœ… Escalation paths&lt;br&gt;âœ… Post-mortem process" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;spacingLeft=10;spacingTop=5;" vertex="1" parent="1">
          <mxGeometry x="1820" y="1035" width="305" height="85" as="geometry" />
        </mxCell>

        <!-- Bottom Summary -->
        <mxCell id="summary-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#C2185B;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="40" y="1180" width="2120" height="180" as="geometry" />
        </mxCell>

        <mxCell id="summary-icon" value="ðŸŽ¯" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=36;" vertex="1" parent="1">
          <mxGeometry x="60" y="1200" width="50" height="50" as="geometry" />
        </mxCell>

        <mxCell id="summary-title" value="&lt;b&gt;SECURITY ASSURANCE SUMMARY&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=22;fontStyle=1;fontColor=#C2185B;" vertex="1" parent="1">
          <mxGeometry x="130" y="1205" width="600" height="35" as="geometry" />
        </mxCell>

        <mxCell id="summary-text" value="The AI Agents Platform implements **enterprise-grade security** with **zero-trust architecture**, **defense-in-depth** protection across 4 layers, and **PostgreSQL Row-Level Security (RLS)** ensuring complete tenant isolation. Every action is audited, every secret is encrypted, and all data flows are monitored in real-time. The platform is compliance-ready for **SOC 2**, **GDPR**, and **HIPAA**, with regular security testing and incident response procedures in place." style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;spacingLeft=20;spacingRight=20;" vertex="1" parent="1">
          <mxGeometry x="130" y="1250" width="2000" height="100" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
